【资源框架】
主要分为3个部分制作对应模块的功能，从而实现整个框架的制作。
リソース管理フレームワークは、大きく 3つのレイヤー によって構成されており、それぞれが独立した役割を持ちながら、全体として効率的なアセット運用を実現するよう設計しました。
【资源打包层】
主要负责资源的打包的可视化编辑器，以及资源的打包、配置生成等功能。
打包策略：
按目录打包，会将相应文件夹下的所有文件打成一个AB包，但是需要注意可能会导致生成一个很大的AB包。
按Prefab打包，将Prefab和其所有依赖资源打成一个AB包，但是需要注意公共资源单独提取出来构建AB包，防止资源被重复打包造成冗余。
构建AB阶段，将每个AB包的文件大小、路径等信息记录下来生成配置文件。

① アセットパッケージング層
このレイヤーでは、アセットバンドルの可視化エディタ、パッケージング処理、設定ファイル生成 を担当しています。

主なパッケージング戦略：

フォルダ単位でのパッケージング
指定フォルダ以下のファイルを一つのABにまとめます。
ただし、パッケージサイズが大きくなるリスクがあるため注意が必要です。

Prefab 単位でのパッケージング
Prefab とその依存リソースを一つのABとしてまとめます。
共通リソースは重複ビルドを避けるため、別ABとして切り出す設計にしています。

ビルド時のメタ情報生成
各ABのファイルサイズ、パスなどの情報を収集し、設定ファイルとして出力しています。

【资源下载层】
主要负责资源的热更资源下载、校验、资源解压等功能。

检查是否需要热更新：
1、如果没有要下载的服务器端资源清单文件，则说明不需要热更新。
2、如果本地资源清单文件不存在，则说明需要热更新。
3、如果本地资源清单文件版本号与服务器端资源清单文件版本号不一致则需要热更新。

② 資源ダウンロード層

ここでは、ホットアップデート用リソースのダウンロード、検証、解凍 を担当しています。

アップデート要否の判断ロジック：

サーバー側のリソースマニフェストが存在しない → アップデート不要
ローカルのマニフェストが無い → アップデート必要
ローカルとサーバーのバージョンが異なる → アップデート必要

【资源加载层】
负责AssetBundle的加载、卸载、解密、内存引用计数等操作。
负责资源对象的多模块同步加载、异步加载、Editor编辑器加载、资源对象池管理、
图集、图片、音频等资源加载功能。

③ 資源ロード層

AssetBundle の ロード、アンロード、復号処理、参照カウント管理 を行うレイヤーです。

主な機能：

モジュール間での 同期／非同期ロード

Editor 上での疑似ロード

リソースオブジェクトプールの管理

画像・アトラス・音声など各種アセットのロード

メモリ使用量を最適化するための参照カウント管理

このレイヤーにより、再利用性の高い柔軟なアセットロード基盤を構築しました。

AssetBundle可以实现游戏资源热更新，减少游戏安装包大小，优化资源加载。

如何防止资源被重复地打进不同的AB包里？
公共资源单独打成一个AB包，这样其他AB包只会引用，而不会将资源重复打进AB包里。

■ AssetBundle について

AssetBundle を使うことで、
ゲームリソースのホットアップデート、パッケージサイズの削減、ロードの最適化
を実現できます。

■ 重複してリソースがビルドされるのを防ぐ方法

リソースの重複打ち込みを防ぐためには、
共通リソースを一つの専用 AssetBundle にまとめる ことが最も重要です。

✔ 正しい対策

共通リソース（テクスチャ・マテリアル・Prefab など）を「共通 AB」として単独でビルドする。

他の AB はその共通 AB を 参照するだけ で、再度リソースを含めません。

Unity の依存関係管理により、重複ビルドは自動的に回避されます

